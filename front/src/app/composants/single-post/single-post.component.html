
<ul class="list-group">
    <cdk-virtual-scroll-viewport itemSize = "500" class = "viewport"> 
    <li class="list-group-item">
        <div class="post" *cdkVirtualFor='let post of allPost' >
            <div class="top">
                <div class="picture">
                    <img [src]="post.User.picture">
                </div>
                <div class="top-post">
                    <h1>{{ post.User.firstName }} {{ post.User.lastName }}</h1>
                    <p>publié le {{ post.createdAt | date:'dd/MM/yyyy' }} à {{ post.createdAt | date:'HH:mm' }} </p>                    
                </div>
                <div id="menuToggle" *ngIf="connectUserId === post.UserId || isAdmin === true">
                    <input type="checkbox" />
                    <span></span>
                    <span></span>
                    <span></span>
              
                    <ul id="menu">
                        <li>
                            <div class="button">
                                <button [routerLink]="['/modify-post/',post.id]" [postId]="post.id">Modifier<fa-icon></fa-icon></button>
                            </div>
                        </li>
                        <li><app-delete-post [postId]="post.id"></app-delete-post></li>
                    </ul>
                  </div>
            </div>
            <img [src]="post.attachment">
            <div class="content">
               <p>{{ post.content }} </p>  
            </div>
                   
        <div class="interaction">
            <app-like [postId]="post.id" [like]="post.like"></app-like>
            <p *ngIf="post.likes > 0 " class="likes-counter">likes : {{ post.likes }} </p>
        </div>
        <div class="comment-post" >
            <div class="user-picture" *ngFor="let userProfile of oneUserProfil">
                <img [src]="userProfile.picture" class="picture-profile">
            </div>
            <div class="comment" [formGroup]="postComment">
                <textarea class="message form-control" placeholder="Votre commentaire ..." formControlName="postOneComment"></textarea>
            </div>
            <div class="button">
                    <button class="comment-button" (click)="writeComment(post.id)"><fa-icon [icon]="faComment" accesskey="enter"></fa-icon></button>
            </div>
        </div>
        <div class="view-comment" *ngFor='let comment of comments'>
            <div class="comment-container" *ngIf="post.id === comment.messageId">
            <div class="comment-informations"  >
                <img [src]="comment.User.picture" class="comment-picture">
                <div class="name">
                    <p class="comment-firstname">{{ comment.User.firstName }}</p> 
                    <p class="comment-lastname">{{ comment.User.lastName }}</p>
                </div>

            </div>
            <div>
                <p class="comment-content">{{ comment.content }}</p>
            </div>
        </div>
        </div>
        </div>
    </li>
</cdk-virtual-scroll-viewport> 
</ul>

